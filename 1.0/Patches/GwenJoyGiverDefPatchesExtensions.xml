<?xml version="1.0" encoding="utf-8"?>
<Patch>
  <!-- base chance is handed by factors of 2. each entry adds an additional factor -->
  <!-- Meditative -->
  <Operation Class="PatchOperationSequence">
    <success>Always</success>
    <operations>
      <li Class="PatchOperationTest">
        <xpath>*/JoyGiverDef[defName="VisitGrave"]</xpath>
      </li>
      <li Class="PatchOperationAddModExtension">
        <xpath>*/JoyGiverDef[defName="VisitGrave"]</xpath>
        <value>
          <li Class="EBTools.RequiredTraitFramework.RequiredTrait_ModExtension">
            <forbiddenTraits>
              <li>GBKT_BattleThrill</li>
            </forbiddenTraits>
            <increaseChanceTraits>
              <!-- base chance 1 -->
              <li>GBKT_Meditative</li>
              <li>GBKT_Meditative</li>
              <li>GBKT_Meditative</li>
            </increaseChanceTraits>
            <decreaseChanceTraits>
              <li>GBKT_Energetic</li>
              <li>GBKT_Energetic</li>
            </decreaseChanceTraits>
          </li>
        </value>
      </li>
    </operations>
  </Operation>
  <Operation Class="PatchOperationSequence">
    <success>Always</success>
    <operations>
      <li Class="PatchOperationTest">
        <xpath>*/JoyGiverDef[defName="ViewArt"]</xpath>
      </li>
      <li Class="PatchOperationAddModExtension">
        <xpath>*/JoyGiverDef[defName="ViewArt"]</xpath>
        <value>
          <li Class="EBTools.RequiredTraitFramework.RequiredTrait_ModExtension">
            <forbiddenTraits>
              <li>GBKT_Energetic</li>
              <li>GBKT_BattleThrill</li>
            </forbiddenTraits>
            <increaseChanceTraits>
              <!-- base chance 1 -->
              <li>GBKT_Meditative</li>
              <li>GBKT_Meditative</li>
              <li>GBKT_Meditative</li>
              <li>GBKT_CouchPotato</li>
              <li>GBKT_CouchPotato</li>
              <li>GBKT_CouchPotato</li>
            </increaseChanceTraits>
          </li>
        </value>
      </li>
    </operations>
  </Operation>
  <Operation Class="PatchOperationSequence">
    <success>Always</success>
    <operations>
      <li Class="PatchOperationTest">
        <xpath>*/JoyGiverDef[defName="Meditate"]</xpath>
      </li>
      <li Class="PatchOperationAddModExtension">
        <xpath>*/JoyGiverDef[defName="Meditate"]</xpath>
        <value>
          <li Class="EBTools.RequiredTraitFramework.RequiredTrait_ModExtension">
            <forbiddenTraits>
              <li>GBKT_BattleThrill</li>
            </forbiddenTraits>
            <decreaseChanceTraits>
              <li>GBKT_Energetic</li>
              <li>GBKT_Energetic</li>
            </decreaseChanceTraits>
            <increaseChanceTraits>
              <!-- base chance 1 -->
              <li>GBKT_Meditative</li>
              <li>GBKT_Meditative</li>
              <li>GBKT_Meditative</li>
            </increaseChanceTraits>
          </li>
        </value>
      </li>
    </operations>
  </Operation>
  <Operation Class="PatchOperationSequence">
    <success>Always</success>
    <operations>
      <li Class="PatchOperationTest">
        <xpath>*/JoyGiverDef[defName="Pray"]</xpath>
      </li>
      <li Class="PatchOperationAddModExtension">
        <xpath>*/JoyGiverDef[defName="Pray"]</xpath>
        <value>
          <li Class="EBTools.RequiredTraitFramework.RequiredTrait_ModExtension">
            <forbiddenTraits>
              <li>GBKT_BattleThrill</li>
            </forbiddenTraits>
            <increaseChanceTraits>
              <!-- base chance 1 -->
              <li>GBKT_Meditative</li>
              <li>GBKT_Meditative</li>
              <li>GBKT_Meditative</li>
            </increaseChanceTraits>
          </li>
        </value>
      </li>
    </operations>
  </Operation>
  <Operation Class="PatchOperationSequence">
    <success>Always</success>
    <operations>
      <li Class="PatchOperationTest">
        <xpath>*/JoyGiverDef[defName="GoForWalk"]</xpath>
      </li>
      <li Class="PatchOperationAddModExtension">
        <xpath>*/JoyGiverDef[defName="GoForWalk"]</xpath>
        <value>
          <li Class="EBTools.RequiredTraitFramework.RequiredTrait_ModExtension">
            <forbiddenTraits>
              <li>GBKT_Aquaphile</li>
              <li>GBKT_CouchPotato</li>
              <li>GBKT_SunBather</li>
              <li>GBKT_SnowBunny</li>
              <li>GBKT_BattleThrill</li>
              <li>GBKT_BattleThrill</li>
            </forbiddenTraits>
            <increaseChanceTraits>
              <!-- base chance 1 -->
              <li>GBKT_Energetic</li>
              <li>GBKT_Energetic</li>
              <li>GBKT_Energetic</li>
              <li>GBKT_Meditative</li>
              <li>GBKT_Meditative</li>
              <li>GBKT_Meditative</li>
            </increaseChanceTraits>
          </li>
        </value>
      </li>
    </operations>
  </Operation>
  <Operation Class="PatchOperationSequence">
    <success>Always</success>
    <operations>
      <li Class="PatchOperationTest">
        <xpath>*/JoyGiverDef[defName="BuildSnowman"]</xpath>
      </li>
      <li Class="PatchOperationAddModExtension">
        <xpath>*/JoyGiverDef[defName="BuildSnowman"]</xpath>
        <value>
          <li Class="EBTools.RequiredTraitFramework.RequiredTrait_ModExtension">
            <forbiddenTraits>
              <li>GBKT_Aquaphile</li>
              <li>GBKT_CouchPotato</li>
              <li>GBKT_SunBather</li>
              <li>GBKT_BattleThrill</li>
            </forbiddenTraits>
            <increaseChanceTraits>
              <!-- base chance 0.75 -->
              <li>GBKT_Energetic</li>
              <li>GBKT_Energetic</li>
              <li>GBKT_Energetic</li>
              <li>GBKT_SnowBunny</li>
              <li>GBKT_SnowBunny</li>
              <li>GBKT_SnowBunny</li>
              <li>GBKT_SnowBunny</li>
            </increaseChanceTraits>
          </li>
        </value>
      </li>
    </operations>
  </Operation>
  <Operation Class="PatchOperationSequence">
    <success>Always</success>
    <operations>
      <li Class="PatchOperationTest">
        <xpath>*/JoyGiverDef[defName="Skygaze"]</xpath>
      </li>
      <li Class="PatchOperationAddModExtension">
        <xpath>*/JoyGiverDef[defName="Skygaze"]</xpath>
        <value>
          <li Class="EBTools.RequiredTraitFramework.RequiredTrait_ModExtension">
            <forbiddenTraits>
              <li>GBKT_Aquaphile</li>
              <li>GBKT_Energetic</li>
              <li>GBKT_SunBather</li>
              <li>GBKT_SnowBunny</li>
              <li>GBKT_BattleThrill</li>
            </forbiddenTraits>
            <increaseChanceTraits>
              <!-- base chance 1 -->
              <li>GBKT_SkyGazer</li>
              <li>GBKT_SkyGazer</li>
              <li>GBKT_SkyGazer</li>
            </increaseChanceTraits>
          </li>
        </value>
      </li>
    </operations>
  </Operation>
  <!-- Social -->
  <Operation Class="PatchOperationSequence">
    <success>Always</success>
    <operations>
      <li Class="PatchOperationTest">
        <xpath>*/JoyGiverDef[defName="SocialRelax"]</xpath>
      </li>
      <li Class="PatchOperationAddModExtension">
        <xpath>*/JoyGiverDef[defName="SocialRelax"]</xpath>
        <value>
          <li Class="EBTools.RequiredTraitFramework.RequiredTrait_ModExtension">
            <increaseChanceTraits>
              <!-- base chance 4 -->
              <li>GBKT_Socialite</li>
            </increaseChanceTraits>
            <decreaseChanceTraits>
              <li>GBKT_CareGiver</li>
              <li>GBKT_CareGiver</li>
              <li>GBKT_CareGiver</li>
              <li>GBKT_Meditative</li>
              <li>GBKT_Meditative</li>
            </decreaseChanceTraits>
          </li>
        </value>
      </li>
    </operations>
  </Operation>
  <Operation Class="PatchOperationSequence">
    <success>Always</success>
    <operations>
      <li Class="PatchOperationTest">
        <xpath>*/JoyGiverDef[defName="VisitSickPawn"]</xpath>
      </li>
      <li Class="PatchOperationAddModExtension">
        <xpath>*/JoyGiverDef[defName="VisitSickPawn"]</xpath>
        <value>
          <li Class="EBTools.RequiredTraitFramework.RequiredTrait_ModExtension">
            <forbiddenTraits>
              <li>GBKT_BattleThrill</li>
            </forbiddenTraits>
            <increaseChanceTraits>
              <!-- base chance 3 -->
              <li>GBKT_CareGiver</li>
              <li>GBKT_Socialite</li>
            </increaseChanceTraits>
            <decreaseChanceTraits>
              <li>GBKT_Meditative</li>
            </decreaseChanceTraits>
          </li>
        </value>
      </li>
    </operations>
  </Operation>
  <!-- dexterity play -->
  <Operation Class="PatchOperationSequence">
    <success>Always</success>
    <operations>
      <li Class="PatchOperationTest">
        <xpath>*/JoyGiverDef[defName="Play_Horseshoes"]</xpath>
      </li>
      <li Class="PatchOperationAddModExtension">
        <xpath>*/JoyGiverDef[defName="Play_Horseshoes"]</xpath>
        <value>
          <li Class="EBTools.RequiredTraitFramework.RequiredTrait_ModExtension">
            <forbiddenTraits>
              <li>GBKT_CouchPotato</li>
            </forbiddenTraits>
            <increaseChanceTraits>
              <!-- base chance 2.5 -->
              <li>GBKT_Gamer</li>
            </increaseChanceTraits>
          </li>
        </value>
      </li>
    </operations>
  </Operation>
  <Operation Class="PatchOperationSequence">
    <success>Always</success>
    <operations>
      <li Class="PatchOperationTest">
        <xpath>*/JoyGiverDef[defName="Play_Hoopstone"]</xpath>
      </li>
      <li Class="PatchOperationAddModExtension">
        <xpath>*/JoyGiverDef[defName="Play_Hoopstone"]</xpath>
        <value>
          <li Class="EBTools.RequiredTraitFramework.RequiredTrait_ModExtension">
            <forbiddenTraits>
              <li>GBKT_CouchPotato</li>
            </forbiddenTraits>
            <increaseChanceTraits>
              <!-- base chance 2 -->
              <li>GBKT_Gamer</li>
              <li>GBKT_Gamer</li>
            </increaseChanceTraits>
          </li>
        </value>
      </li>
    </operations>
  </Operation>
  <Operation Class="PatchOperationSequence">
    <success>Always</success>
    <operations>
      <li Class="PatchOperationTest">
        <xpath>*/JoyGiverDef[defName="Play_Billiards"]</xpath>
      </li>
      <li Class="PatchOperationAddModExtension">
        <xpath>*/JoyGiverDef[defName="Play_Billiards"]</xpath>
        <value>
          <li Class="EBTools.RequiredTraitFramework.RequiredTrait_ModExtension">
            <forbiddenTraits>
              <li>GBKT_CouchPotato</li>
            </forbiddenTraits>
            <increaseChanceTraits>
              <!-- base chance 4 -->
              <li>GBKT_Gamer</li>
            </increaseChanceTraits>
          </li>
        </value>
      </li>
    </operations>
  </Operation>
  <!-- cerebral play -->
  <Operation Class="PatchOperationSequence">
    <success>Always</success>
    <operations>
      <li Class="PatchOperationTest">
        <xpath>*/JoyGiverDef[defName="Play_Poker"]</xpath>
      </li>
      <li Class="PatchOperationAddModExtension">
        <xpath>*/JoyGiverDef[defName="Play_Poker"]</xpath>
        <value>
          <li Class="EBTools.RequiredTraitFramework.RequiredTrait_ModExtension">
            <forbiddenTraits>
              <li>GBKT_Energetic</li>
            </forbiddenTraits>
            <increaseChanceTraits>
              <!-- base chance 4 -->
              <li>GBKT_Gamer</li>
            </increaseChanceTraits>
          </li>
        </value>
      </li>
    </operations>
  </Operation>
  <Operation Class="PatchOperationSequence">
    <success>Always</success>
    <operations>
      <li Class="PatchOperationTest">
        <xpath>*/JoyGiverDef[defName="Play_Chess"]</xpath>
      </li>
      <li Class="PatchOperationAddModExtension">
        <xpath>*/JoyGiverDef[defName="Play_Chess"]</xpath>
        <value>
          <li Class="EBTools.RequiredTraitFramework.RequiredTrait_ModExtension">
            <forbiddenTraits>
              <li>GBKT_Energetic</li>
              <li>GBKT_BattleThrill</li>
            </forbiddenTraits>
            <increaseChanceTraits>
              <!-- base chance 2 -->
              <li>GBKT_Gamer</li>
              <li>GBKT_Gamer</li>
            </increaseChanceTraits>
          </li>
        </value>
      </li>
    </operations>
  </Operation>
  <Operation Class="PatchOperationSequence">
    <success>Always</success>
    <operations>
      <li Class="PatchOperationTest">
        <xpath>*/JoyGiverDef[defName="Play_GameOfUr"]</xpath>
      </li>
      <li Class="PatchOperationAddModExtension">
        <xpath>*/JoyGiverDef[defName="Play_GameOfUr"]</xpath>
        <value>
          <li Class="EBTools.RequiredTraitFramework.RequiredTrait_ModExtension">
            <forbiddenTraits>
              <li>GBKT_Energetic</li>
              <li>GBKT_BattleThrill</li>
            </forbiddenTraits>
            <increaseChanceTraits>
              <!-- base chance 2 -->
              <li>GBKT_Gamer</li>
              <li>GBKT_Gamer</li>
            </increaseChanceTraits>
          </li>
        </value>
      </li>
    </operations>
  </Operation>
  <!-- television -->
  <Operation Class="PatchOperationSequence">
    <success>Always</success>
    <operations>
      <li Class="PatchOperationTest">
        <xpath>*/JoyGiverDef[defName="WatchTelevision"]</xpath>
      </li>
      <li Class="PatchOperationAddModExtension">
        <xpath>*/JoyGiverDef[defName="WatchTelevision"]</xpath>
        <value>
          <li Class="EBTools.RequiredTraitFramework.RequiredTrait_ModExtension">
            <forbiddenTraits>
              <li>GBKT_Energetic</li>
              <li>GBKT_BattleThrill</li>
            </forbiddenTraits>
            <increaseChanceTraits>
              <!-- base chance 3.5 -->
              <li>GBKT_CouchPotato</li>
              <li>GBKT_Explorer</li>
            </increaseChanceTraits>
          </li>
        </value>
      </li>
    </operations>
  </Operation>
  <!-- telescope -->
  <Operation Class="PatchOperationSequence">
    <success>Always</success>
    <operations>
      <li Class="PatchOperationTest">
        <xpath>*/JoyGiverDef[defName="UseTelescope"]</xpath>
      </li>
      <li Class="PatchOperationAddModExtension">
        <xpath>*/JoyGiverDef[defName="UseTelescope"]</xpath>
        <value>
          <li Class="EBTools.RequiredTraitFramework.RequiredTrait_ModExtension">
            <forbiddenTraits>
              <li>GBKT_Energetic</li>
              <li>GBKT_BattleThrill</li>
            </forbiddenTraits>
            <increaseChanceTraits>
              <!-- base chance 3.5 -->
              <li>GBKT_SkyGazer</li>
              <li>GBKT_Explorer</li>
            </increaseChanceTraits>
          </li>
        </value>
      </li>
    </operations>
  </Operation>
  <!-- chemical consumption -->
  <!-- food consumption -->
  <Operation Class="PatchOperationSequence">
    <success>Always</success>
    <operations>
      <li Class="PatchOperationTest">
        <xpath>*/JoyGiverDef[defName="EatChocolate"]</xpath>
      </li>
      <li Class="PatchOperationAddModExtension">
        <xpath>*/JoyGiverDef[defName="EatChocolate"]</xpath>
        <value>
          <li Class="EBTools.RequiredTraitFramework.RequiredTrait_ModExtension">
            <increaseChanceTraits>
              <li>GBKT_Foodie</li>
              <li>GBKT_Foodie</li>
              <li>GBKT_Foodie</li>
              <li>GBKT_Foodie</li>
              <li>GBKT_Foodie</li>
            </increaseChanceTraits>
          </li>
        </value>
      </li>
    </operations>
  </Operation>
</Patch>
