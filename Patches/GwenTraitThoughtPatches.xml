<?xml version="1.0" encoding="utf-8" ?>
<Patch>

<!-- 
 the below patch operation adds a nullification field to defs without them. if any other mod does the same it will erase those mods defs. I tested. This is required as far as I can tell.
          
-->

  <Operation Class="PatchOperationAdd">
    <xpath>/Defs/ThoughtDef[defName = "SoakingWet" or 
	defName = "SleptInCold" or 
	defName = "SleptInHeat" or 
	defName = "NeedFood" or 
	defName = "Sick" or 
	defName = "EnvironmentCold" or 
	defName = "EnvironmentHot" or 
	defName = "NeedComfort" or 
	defName = "NeedBeauty" or 
	defName = "NeedJoy" or 
	defName = "DoingPassionateWork" or 
	defName = "ApparelDamaged" or 
	defName = "SleepDisturbed" or 
	defName = "JoyActivityInImpressiveRecRoom" or 
	defName = "AteInImpressiveDiningRoom" or 
	defName = "SleptInBedroom" or 
	defName = "SleptInBarracks" or 
	defName = "NeedRoomSize" or 
	defName = "NeedRest" or 
	defName = "NeedFood" or 
	defName = "PrisonCell" or 
	defName = "PrisonBarracks" or 
	defName = "HospitalPatientRoomStats" or 
	defName = "SoldPrisoner" or 
	defName = "KilledColonyAnimal" or 
	defName = "KilledColonist" or  
	defName = "Slighted" or 
	defName = "SleptInCold" or 
	defName = "SleptInHeat" or 
	defName = "NotBondedAnimalMaster" or
	defName = "AttendedParty" or
	defName = "AttendedWedding" or
	defName = "PsychicEmanatorSoothe" or
	defName = "PsychicDrone" or
	defName = "GotSomeLovin" or  
	defName = "DivorcedMe" or 
	defName = "CheatedOnMe" or 
	defName = "BrokeUpWithMe" or 
	defName = "FailedRomanceAttemptOnMe" or
	defName = "RebuffedMyRomanceAttempt" or
	defName = "RejectedMyProposal" or
	defName = "PsychicEmanatorSoothe" or
	defName = "IRejectedTheirProposal" or
	defName = "HoneymoonPhase" or
	defName = "GotMarried" or
	defName = "KilledMyBondedAnimal" or
	defName = "ArtifactMoodBoost"
	]</xpath>
    <value>
		<nullifyingTraits>
		</nullifyingTraits>
    </value>
  </Operation>

  
	<Operation Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
			<li Class="PatchOperationTest">
			  <xpath>*/ThoughtDef[defName="SoakingWet"]/nullifyingTraits</xpath>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>*/ThoughtDef[defName="SoakingWet"]/nullifyingTraits</xpath>
				<value>
					<li>GBKT_Aquaphile</li>
				</value>
			</li>
		</operations>
	</Operation>
	<Operation Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
			<li Class="PatchOperationTest">
			  <xpath>*/ThoughtDef[defName="NeedBeauty"]/nullifyingTraits</xpath>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>*/ThoughtDef[defName="NeedBeauty"]/nullifyingTraits</xpath>
				<value>
					<li>GBKT_DirtLover</li>
				</value>
			</li>
		</operations>
	</Operation>
	
	<Operation Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
			<li Class="PatchOperationTest">
			  <xpath>*/ThoughtDef[defName="SleptInHeat"]/nullifyingTraits</xpath>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>*/ThoughtDef[defName="SleptInHeat"]/nullifyingTraits</xpath>
				<value>
					<li>GBKT_SunBather</li>
				</value>
			</li>
		</operations>
	</Operation>
	
	<Operation Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
			<li Class="PatchOperationTest">
			  <xpath>*/ThoughtDef[defName="SleptInCold"]/nullifyingTraits</xpath>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>*/ThoughtDef[defName="SleptInCold"]/nullifyingTraits</xpath>
				<value>
					<li>GBKT_SnowBunny</li>
				</value>
			</li>
		</operations>
	</Operation>
</Patch>